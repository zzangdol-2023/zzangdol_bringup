<!-- 
  Author : GeoChoi, GeonhaPark

  bring all of sensor, tf, ros serial node and topic to operate zzangdol car

  Brings up this launch file:
    - zzangdol_bring_minimal.launch : brings up sensor, tf_state_publisher, myahrs(IMU), lidar
    - zzangdol_core.launch : brings up rosserial communication with mcu, cmd_Vel converter
-->

<launch>
  <arg name="usb_config" default="false"/>
  
  <arg name="record" default="false"/>
  <arg name="bag_filename" default="$(eval eval ('_' + '_import_' + '_(\'datetime\')').datetime.now().strftime('%Y-%m-%d_%H-%M-%S'))"/>
  
  <arg name="rviz" default="false"/>

  <!-- 1. launch zzangdol_bring_minimal -->
  <include file="$(find zzangdol_bringup)/launch/zzangdol_bring_minimal.launch">
    <arg name="usb_config" default="$(arg usb_config)"/>
    <arg name="record" default="$(arg record)"/>
    <arg name="bag_filename" default="$(arg bag_filename)"/>
    <arg name="rviz" default="$(arg rviz)"/>
  </include>

  <!-- 2. launch zzangdol_core.launch
    : bringups rosserial communication with mcu, cmd_Vel converter 
  -->
  <include file="$(find zzangdol_bringup)/launch/zzangdol_core.launch">
    <arg name="usb_config" value="$(arg usb_config)"/>
  </include>

</launch>
